
{% comment %} https://django-crispy-forms.readthedocs.io/en/latest/ {% endcomment %}
{% load static %}

<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Result</title>

  <script src="https://kit.fontawesome.com/8f51521eb7.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<style>
  .center {
    text-align : center;
    margin-top: 3%;
    margin-left: 10%;
    margin-right: 10%;
    background-color: rgb(230, 239, 245);
    padding: 10px; 
  }
  .CharBox{
    text-align : center;
    width: 470px;
    height: 385px;
  }
  .special-card {
    {% comment %} /* create a custom class so you 
       do not run into specificity issues 
       against bootstraps styles
       which tends to work better than using !important 
       (future you will thank you later)*/ {% endcomment %}
    
      {% comment %} background-color: rgba(245, 245, 245, 1); {% endcomment %}
      {% comment %} opacity: .4; {% endcomment %}
      text-align : left;
      color : rgb(29, 161, 242);
    }
  </style> 
</head>

<body class="center">

  {% if max_labels == 'Positive' %}
  <h1 style="color:rgb(44, 44, 90); font-weight: 700;">
    <i class="fa-solid fa-face-laugh-beam"></i> RESULTS : {{max_labels|safe}} ({{max_data|safe}} %)
  </h1>

  {% elif max_labels == 'Negative' %}
  <h1 style="color:rgb(216, 6, 52); font-weight: 700;">
    <i class="fa-solid fa-face-angry"></i> RESULTS : {{max_labels|safe}} ({{max_data|safe}} %)
  </h1>

  {% elif max_labels == 'Neutral' %}
  <h1 style="color:rgb(11, 78, 84); font-weight: 700;">
    <i class="fa-solid fa-face-meh-blank"></i> RESULTS : {{max_labels|safe}} ({{max_data|safe}} %)
  </h1>

  {% endif %}

  <div class="row">
    <div class="col-sm-6">
      <div class="card">
        <div class="card-body">
          <h3 style="color:rgb(44, 44, 90); font-weight: 700;">
            <i class="fa-solid fa-cloud"></i> WORD CLOUD </h3>
          <img class="card-img-top" src="{% static 'base/images/mypic.png' %}" alt="Card image-top"> 
          <a href="{% static 'base/images/mypic.png' filename='CF.pdf' %}" class="btn btn-primary">Download cloud image</a>
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="card">
        <div class="card-body">
          <h3 style="color:rgb(44, 44, 90); font-weight: 700;">
            <i class="fa-solid fa-square-poll-vertical"></i> Sentimental analysis </h3>
            
            <div class="CharBox">
              <canvas id="myChart"></canvas>
              <script>
              const ctx = document.getElementById('myChart').getContext('2d');
              const myChart = new Chart(ctx, {
                  type: 'polarArea', 
                  data: {
                      labels: {{labels|safe}},
                      datasets: [{
                          label: "legende",
                          data: {{data|safe}},
                          backgroundColor: [
                              'rgba(75, 192, 192, 0.5)',
                              'rgba(255, 99, 132, 0.5)',
                              'rgba(255, 206, 86, 0.5)'                        
                          ],
                          borderColor: [
                              'rgba(75, 192, 192, 1)',
                              'rgba(255, 99, 132, 1)',
                              'rgba(255, 206, 86, 1)' 
                          ],
                          borderWidth: 1
                      }]
                  },
                  options: {
                    
                      }
                  }
              );
              </script>
            </div>
          <p> </p>
          <div class="card-footer">
            <small class="text-muted"><font color="red">Attention : </font> Cette analyse a été effectuée sur les {{n}} premiers caractères des tweets récupérés et classés selon le nombre de likes (des plus likés aux moins likés)</small>
          </div>
        </div>
      </div>
    </div>
  
</div>

<p></p>
<h1 style="color:rgb(44, 44, 90); font-weight: 700;">
  <i class="fa-solid fa-thumbs-up"></i> TWEETS MOST LIKED
</h1>
<p></p>


<div class="card-deck">
  <div class="card">
    <div class="card-header">
      <i class="fa-solid fa-heart"></i> {{tweet_1_Like}}
      <i class="fa-solid fa-comment"></i> {{tweet_1_Replay}}
      <i class="fa-solid fa-retweet"></i>{{tweet_1_Retweet}}
    </div>
    {% comment %} <img class="card-img-top" src="..." alt="Card image cap"> {% endcomment %}
    <div class="card-body">
      <h5 class="card-title special-card">
        <i class="fa-brands fa-twitter"></i>@{{tweet_1_User}}
      </h5>
      <p class="card-text">{{tweet_1_Tweet}}</p>
      <a href={{tweet_1_Url}}>See the tweet in Twitter</a>
    </div>
    <div class="card-footer">
      <small class="text-muted">{{tweet_1_date}}</small>
    </div>
  </div>
  <div class="card">
    <div class="card-header">
      <i class="fa-solid fa-heart"></i> {{tweet_2_Like}}
      <i class="fa-solid fa-comment"></i> {{tweet_2_Replay}}
      <i class="fa-solid fa-retweet"></i>{{tweet_2_Retweet}}
    </div>
    {% comment %} <img class="card-img-top" src="..." alt="Card image cap"> {% endcomment %}
    <div class="card-body">
      <h5 class="card-title special-card">
        <i class="fa-brands fa-twitter"></i> @{{tweet_2_User}}
      </h5>
      <p class="card-text">{{tweet_2_Tweet}}</p>
      <a href={{tweet_2_Url}}>See the tweet in Twitter</a>
    </div>
    <div class="card-footer">
      <small class="text-muted">{{tweet_2_date}}</small>
    </div>
  </div>
  <div class="card">
    <div class="card-header">
      <i class="fa-solid fa-heart"></i> {{tweet_3_Like}}
      <i class="fa-solid fa-comment"></i> {{tweet_3_Replay}}
      <i class="fa-solid fa-retweet"></i>{{tweet_3_Retweet}}
    </div>
    {% comment %} <img class="card-img-top" src="..." alt="Card image cap"> {% endcomment %}
    <div class="card-body">
      <h5 class="card-title special-card">
        <i class="fa-brands fa-twitter"></i>@{{tweet_3_User}}
      </h5>
      <p class="card-text">{{tweet_3_Tweet}}</p>
      <a href={{tweet_3_Url}}>See the tweet in Twitter</a>
    </div>
    <div class="card-footer">
      <small class="text-muted">{{tweet_3_date}}</small>
    </div>
  </div>
</div>




<p></p>
<p></p>
<p></p>



<p></p>
<h4 style="color:rgb(44, 44, 90); font-weight: 700; display: flex; justify-content: space-between">
     <a href="{% url 'tweeter_scrape' %}"><i class="fa-solid fa-angles-left"></i> Back</a> <a href="#"><i class="fa-solid fa-angles-up"></i> Go to top</a>
     {% comment %} <a href="{% url 'tweeter_scrape' %}"><i class="fa-solid fa-angles-left"></i> Back</a> {% endcomment %}
</h4>



<p></p>
<p></p>
<p></p>



</body>
</html>